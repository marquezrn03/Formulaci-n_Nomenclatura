<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alquimista Qu√†ntic - Joc de Qu√≠mica</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React Libraries -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-10px); }
            40%, 80% { transform: translateX(10px); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-shake {
            animation: shake 0.4s ease-in-out;
        }
        .animate-float {
            animation: float 4s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-[#0B0F19] text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONES VECTORIALS ---
        const Heart = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );
        const Zap = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        );
        const Trophy = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
        );
        const Play = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="6 3 20 12 6 21 6 3"/></svg>
        );
        const RotateCcw = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
        );
        const AlertTriangle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>
        );
        const Sparkles = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
        );
        const Flame = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>
        );
        const Info = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="16" y2="12"/><line x1="12" x2="12.01" y1="8" y2="8"/></svg>
        );
        const CheckCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
        );
        const XCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
        );
        const ArrowRight = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        );
        const Lightbulb = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.9 1.2 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
        );
        const ClockIcon = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        );
        const Activity = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        );

        // --- DICCIONARIS ---
        const explanationsDB = {
        'Subst√†ncia simple': "Formada per √†toms d'un sol element. Tingues en compte que alguns elements (gasos i hal√≤gens) es presenten en forma diat√≤mica (ex: O2, Cl2).",
        '√íxid met√†l¬∑lic': "L'oxigen actua amb val√®ncia -2. S'intercanvia amb la val√®ncia del metall i se simplifiquen els sub√≠ndexs si s√≥n parells.",
        '√íxid no met√†l¬∑lic': "L'oxigen (-2) s'uneix a un no-metall. En la nomenclatura tradicional s'acostumen a anomenar 'anh√≠drids'.",
        'Per√≤xid': "Contenen el grup per√≤xid (O2) amb val√®ncia -2. L'enlla√ß O-O no es pot simplificar, per aix√≤ sovint veur√†s sub√≠ndexs que semblen no simplificats (ex: H2O2).",
        'Hidrur met√†l¬∑lic': "L'hidrogen actua amb val√®ncia -1 en unir-se a un metall.",
        'Hidrur no met√†l¬∑lic': "Hidrurs especials (grups 13, 14, 15) on l'hidrogen actua amb +1. Tenen noms propis tradicionals molt usats (amon√≠ac, met√†, sil√†...).",
        'Hidr√†cid': "S√≥n hidrurs de no-metalls dels grups 16 i 17 o pseudohal√≤gens (CN). Com a gas acaben en '-ur d'hidrogen', i en dissoluci√≥ aquosa s'anomenen '√†cid ...-h√≠dric'.",
        'Sal bin√†ria': "Uni√≥ d'un metall i un no-metall (o un grup cianur). L'element electronegatiu usa la seva val√®ncia negativa i s'afegeix el sufix '-ur'.",
        'Sal vol√†til': "Uni√≥ de dos no-metalls. El m√©s electronegatiu s'escriu a la dreta i se li afegeix el sufix '-ur'.",
        'Hidr√≤xid': "Compostos amb el grup (OH) que t√© val√®ncia global -1. S'uneix a un metall intercanviant aquesta val√®ncia.",
        'Oxo√†cid': "√Äcids amb oxigen. Es formen sumant te√≤ricament aigua (H2O) a un √≤xid no met√†l¬∑lic. En la tradicional, usen els prefixos i sufixos de l'element central (hipo-...-√≥s, ...-√≥s, ...-ic, per-...-ic).",
        'Oxo√†cid polihidratat': "S'obtenen sumant diferents mol√®cules d'aigua a l'anh√≠drid. S'usen prefixos per indicar el grau d'hidrataci√≥: meta- (1 H2O), piro- o di- (2 H2O), orto- (3 H2O).",
        'Oxosal': "Deriven dels oxo√†cids en substituir els hidr√≤gens per un metall. Els sufixos de l'√†cid canvien: '-√≥s' passa a '-it', i '-ic' passa a '-at'.",
        'Sal √†cida': "S√≥n sals que encara conserven algun hidrogen de l'√†cid original. S'anomenen posant el prefix 'hidrogen-' o 'dihidrogen-' davant del nom de l'ani√≥.",
        'Sal hidratada': "Sals que contenen mol√®cules d'aigua de cristal¬∑litzaci√≥ en la seva estructura. S'indica amb un prefix numeral grec seguit de la paraula '-hidratat'.",
        'Complex inorg√†nic': "S√≥n compostos formats per un √†tom central (sovint metall de transici√≥) envoltat de mol√®cules o ions anomenats lligands."
        };

        const advancedTips = [
            { title: "Subst√†ncies Simples (Gasos)", content: "Els gasos com l'oxigen, hidrogen, nitrogen o els hal√≤gens (fluor, iode...) viuen en parella! Si et demanen la f√≥rmula del gas oxigen, sempre √©s O2 i no pas O. L'excepci√≥ famosa √©s l'oz√≥ (O3)." },
            { title: "Oxosals (Canvi de sufixos)", content: "Regla fonamental: Els √†cids que acaben en '-√≥s' formen sals acabades en '-it'. Els √†cids que acaben en '-ic' formen sals acabades en '-at'." },
            { title: "Oxo√†cids (Val√®ncies)", content: "Recorda la taula per als no metalls: val√®ncies 1-2 (hipo...√≥s), 3-4 (...√≥s), 5-6 (...ic), 7 (per...ic). Ex: El clor amb val√®ncia 7 forma l'√†cid percl√≤ric." },
            { title: "√Äcids Polihidratats", content: "Compte amb el f√≤sfor, ars√®nic i antimoni! Prefix 'meta-' (1 H2O), 'piro-' o 'di-' (2 H2O) i 'orto-' (3 H2O). Recorda que el prefix 'orto-' sovint s'omet, per aix√≤ l'√†cid fosf√≤ric √©s H3PO4." },
            { title: "Hidr√†cids vs Oxo√†cids", content: "Si l'√†cid NO t√© oxigen a la f√≥rmula (ex: HCl o HCN), acaba sempre en '-h√≠dric'. Si T√â oxigen (ex: HClO3), fa servir els sufixos cl√†ssics '-√≥s' o '-ic'." },
            { title: "Sals Bin√†ries i Vol√†tils", content: "Regla d'or: L'element que s'escriu a la dreta (el m√©s electronegatiu) SEMPRE acaba en '-ur'. Exemples: Clorur de sodi, sulfur de ferro, fluorur de sofre..." },
            { title: "L'excepci√≥ dels Per√≤xids", content: "Atenci√≥! El grup per√≤xid (O2) actua conjuntament amb val√®ncia -2. L'enlla√ß O-O mai se separa ni se simplifica. Per aix√≤ l'aigua oxigenada √©s H2O2 i no pas HO." },
            { title: "Sals √Äcides", content: "Compte amb els hidr√≤gens 'colats' al mig de la f√≥rmula (ex: KHSO3). Indica'ls afegint la paraula 'hidrogen' al davant del nom de la sal: hidrogensulfit de potassi." },
            { title: "Sals Hidratades", content: "El punt volat '¬∑' indica aigua atrapada al cristall de la sal (ex: CuSO4¬∑5H2O). Es llegeix afegint un prefix numeral grec m√©s la paraula 'hidratat': pentahidratat, dihidratat..." },
            { title: "Hidrurs amb noms propis", content: "Alguns hidrurs de no-metalls tenen noms tradicionals reconeguts: NH3 (amon√≠ac), CH4 (met√†), PH3 (fosfina) i SiH4 (sil√†). √âs important memoritzar-los." },
            { title: "Regla de Stock", content: "A la nomenclatura de Stock, els nombres romans indiquen la val√®ncia del metall. Per√≤ si el metall nom√©s t√© UNA val√®ncia possible (com Na, Ca, Zn, Al), NO s'escriu el nombre rom√†." },
            { title: "Hidr√≤xids (Bases)", content: "S'identifiquen r√†pidament: tenen el grup (OH) al final, que actua globalment amb val√®ncia -1. El metall mant√© el seu nom com√∫ (ex: hidr√≤xid de calci)." },
            { title: "Complexos Inorg√†nics", content: "Aquests compostos tenen un metall central envoltat de 'lligands' sovint entre claud√†tors [ ]. Ex: K4[Fe(CN)6] √©s el ferrocianur de potassi, molt usat al laboratori!" }
        ];

        // --- BASE DE DADES (aprox 200 compostos) ---
        const compoundsDB = [
        { formula: 'Ca', names: ['calci'], type: 'Subst√†ncia simple' },
        { formula: 'O3', names: ['oz√≥'], type: 'Subst√†ncia simple' },
        { formula: 'F2', names: ['fluor'], type: 'Subst√†ncia simple' },
        { formula: 'Br2', names: ['brom'], type: 'Subst√†ncia simple' },
        { formula: 'I2', names: ['iode', 'jode'], type: 'Subst√†ncia simple' },
        { formula: 'O2', names: ['oxigen'], type: 'Subst√†ncia simple' },
        { formula: 'H2', names: ['hidrogen'], type: 'Subst√†ncia simple' },
        { formula: 'Xe', names: ['xen√≥'], type: 'Subst√†ncia simple' },

        { formula: 'Li2O', names: ['√≤xid de liti'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Na2O', names: ['√≤xid de sodi'], type: '√íxid met√†l¬∑lic' },
        { formula: 'K2O', names: ['√≤xid de potassi'], type: '√íxid met√†l¬∑lic' },
        { formula: 'BeO', names: ['√≤xid de beril¬∑li'], type: '√íxid met√†l¬∑lic' },
        { formula: 'MgO', names: ['√≤xid de magnesi'], type: '√íxid met√†l¬∑lic' },
        { formula: 'CaO', names: ['√≤xid de calci'], type: '√íxid met√†l¬∑lic' },
        { formula: 'SrO', names: ['√≤xid d\'estronci'], type: '√íxid met√†l¬∑lic' },
        { formula: 'BaO', names: ['√≤xid de bari'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Al2O3', names: ['√≤xid d\'alumini', 'tri√≤xid de dialumini'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Fe2O3', names: ['√≤xid de ferro(III)', '√≤xid f√®rric', 'tri√≤xid de diferro'], type: '√íxid met√†l¬∑lic' },
        { formula: 'FeO', names: ['√≤xid de ferro(II)', '√≤xid ferr√≥s', 'mon√≤xid de ferro'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Cu2O', names: ['√≤xid de coure(I)', '√≤xid cupr√≥s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'CuO', names: ['√≤xid de coure(II)', '√≤xid c√∫pric'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Au2O', names: ['√≤xid d\'or(I)', '√≤xid aur√≥s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Au2O3', names: ['√≤xid d\'or(III)', '√≤xid √†uric'], type: '√íxid met√†l¬∑lic' },
        { formula: 'PbO', names: ['√≤xid de plom(II)', '√≤xid plumb√≥s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'PbO2', names: ['√≤xid de plom(IV)', '√≤xid pl√∫mbic', 'di√≤xid de plom'], type: '√íxid met√†l¬∑lic' },
        { formula: 'NiO', names: ['√≤xid de n√≠quel(II)', '√≤xid niquel√≥s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Ni2O3', names: ['√≤xid de n√≠quel(III)', '√≤xid niqu√®lic'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Ag2O', names: ['√≤xid de plata', '√≤xid d\'argent'], type: '√íxid met√†l¬∑lic' },
        { formula: 'ZnO', names: ['√≤xid de zinc'], type: '√íxid met√†l¬∑lic' },
        { formula: 'CrO', names: ['√≤xid de crom(II)', '√≤xid crom√≥s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Cr2O3', names: ['√≤xid de crom(III)', '√≤xid cr√≤mic'], type: '√íxid met√†l¬∑lic' },
        { formula: 'SnO', names: ['√≤xid d\'estany(II)', 'mon√≤xid d\'estany'], type: '√íxid met√†l¬∑lic' },
        { formula: 'HgO', names: ['√≤xid de mercuri(II)'], type: '√íxid met√†l¬∑lic' },
        { formula: 'MnO2', names: ['√≤xid de mangan√®s(IV)', 'di√≤xid de mangan√®s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Mn2O7', names: ['√≤xid de mangan√®s(VII)', 'anh√≠drid permang√†nic'], type: '√íxid met√†l¬∑lic' },
        
        { formula: 'Cl2O', names: ['mon√≤xid de diclor', 'anh√≠drid hipoclor√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'Cl2O3', names: ['tri√≤xid de diclor', 'anh√≠drid clor√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'Cl2O5', names: ['penta√≤xid de diclor', 'anh√≠drid cl√≤ric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'Cl2O7', names: ['hepta√≤xid de diclor', 'anh√≠drid percl√≤ric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'Br2O', names: ['mon√≤xid de dibrom', 'anh√≠drid hipobrom√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'Br2O5', names: ['penta√≤xid de dibrom', 'anh√≠drid br√≤mic'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'I2O5', names: ['penta√≤xid de diiode', 'anh√≠drid i√≤dic'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'I2O7', names: ['hepta√≤xid de diiode', 'anh√≠drid peri√≤dic'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'SO2', names: ['di√≤xid de sofre', 'anh√≠drid sulfur√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'SO3', names: ['tri√≤xid de sofre', 'anh√≠drid sulf√∫ric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'SeO2', names: ['di√≤xid de seleni', 'anh√≠drid seleni√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'TeO3', names: ['tri√≤xid de tel¬∑luri', 'anh√≠drid tel¬∑l√∫ric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'N2O3', names: ['tri√≤xid de dinitrogen', 'anh√≠drid nitr√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'N2O5', names: ['penta√≤xid de dinitrogen', 'anh√≠drid n√≠tric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'CO', names: ['mon√≤xid de carboni', 'anh√≠drid carbon√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'CO2', names: ['di√≤xid de carboni', 'anh√≠drid carb√≤nic'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'SiO2', names: ['di√≤xid de silici', 'anh√≠drid sil√≠cic'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'P2O3', names: ['tri√≤xid de dif√≤sfor', 'anh√≠drid fosfor√≥s'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'P2O5', names: ['penta√≤xid de dif√≤sfor', 'anh√≠drid fosf√≤ric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'I2O', names: ['anh√≠drid hipoiod√≥s', 'mon√≤xid de diiode'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'B2O3', names: ['tri√≤xid de dibor', 'anh√≠drid b√≤ric'], type: '√íxid no met√†l¬∑lic' },

        { formula: 'H2O2', names: ['per√≤xid d\'hidrogen'], type: 'Per√≤xid' },
        { formula: 'Na2O2', names: ['per√≤xid de sodi'], type: 'Per√≤xid' },
        { formula: 'K2O2', names: ['per√≤xid de potassi'], type: 'Per√≤xid' },
        { formula: 'CaO2', names: ['per√≤xid de calci'], type: 'Per√≤xid' },
        { formula: 'BaO2', names: ['per√≤xid de bari'], type: 'Per√≤xid' },
        { formula: 'MgO2', names: ['per√≤xid de magnesi'], type: 'Per√≤xid' },
        { formula: 'CuO2', names: ['per√≤xid de coure(II)', 'per√≤xid c√∫pric'], type: 'Per√≤xid' },
        { formula: 'ZnO2', names: ['per√≤xid de zinc'], type: 'Per√≤xid' },
        { formula: 'Cu2O2', names: ['per√≤xid de coure(I)'], type: 'Per√≤xid' },
        { formula: 'PbO4', names: ['per√≤xid de plom(IV)', 'per√≤xid pl√∫mbic'], type: 'Per√≤xid' },

        { formula: 'LiH', names: ['hidrur de liti'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'NaH', names: ['hidrur de sodi'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'KH', names: ['hidrur de potassi'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'MgH2', names: ['hidrur de magnesi'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'CaH2', names: ['hidrur de calci'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'FeH2', names: ['hidrur de ferro(II)', 'hidrur ferr√≥s'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'FeH3', names: ['hidrur de ferro(III)', 'hidrur f√®rric'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'CuH', names: ['hidrur de coure(I)', 'hidrur cupr√≥s'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'CuH2', names: ['hidrur de coure(II)', 'hidrur c√∫pric'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'PbH4', names: ['hidrur de plom(IV)', 'hidrur pl√∫mbic'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'AlH3', names: ['hidrur d\'alumini'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'Hg2H2', names: ['hidrur de mercuri(I)'], type: 'Hidrur met√†l¬∑lic' },

        { formula: 'NH3', names: ['amon√≠ac'], type: 'Hidrur no met√†l¬∑lic' },
        { formula: 'PH3', names: ['fosf√†', 'fosfina'], type: 'Hidrur no met√†l¬∑lic' },
        { formula: 'AsH3', names: ['ars√†', 'arsina'], type: 'Hidrur no met√†l¬∑lic' },
        { formula: 'SbH3', names: ['estib√†', 'estibina'], type: 'Hidrur no met√†l¬∑lic' },
        { formula: 'CH4', names: ['met√†'], type: 'Hidrur no met√†l¬∑lic' },
        { formula: 'SiH4', names: ['sil√†'], type: 'Hidrur no met√†l¬∑lic' },
        { formula: 'BH3', names: ['bor√†'], type: 'Hidrur no met√†l¬∑lic' },

        { formula: 'HF', names: ['√†cid fluorh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'HCl', names: ['√†cid clorh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'HBr', names: ['√†cid bromh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'HI', names: ['√†cid iodh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'H2S', names: ['√†cid sulfh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'H2Se', names: ['√†cid selenh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'H2Te', names: ['√†cid tel¬∑lurh√≠dric'], type: 'Hidr√†cid' },
        { formula: 'HCN', names: ['√†cid cianh√≠dric'], type: 'Hidr√†cid' },

        { formula: 'LiF', names: ['fluorur de liti'], type: 'Sal bin√†ria' },
        { formula: 'NaCl', names: ['clorur de sodi'], type: 'Sal bin√†ria' },
        { formula: 'KBr', names: ['bromur de potassi'], type: 'Sal bin√†ria' },
        { formula: 'MgI2', names: ['iodur de magnesi'], type: 'Sal bin√†ria' },
        { formula: 'CaF2', names: ['fluorur de calci'], type: 'Sal bin√†ria' },
        { formula: 'BaCl2', names: ['clorur de bari'], type: 'Sal bin√†ria' },
        { formula: 'FeCl2', names: ['clorur de ferro(II)', 'clorur ferr√≥s'], type: 'Sal bin√†ria' },
        { formula: 'FeCl3', names: ['clorur de ferro(III)', 'clorur f√®rric'], type: 'Sal bin√†ria' },
        { formula: 'CuBr', names: ['bromur de coure(I)', 'bromur cupr√≥s'], type: 'Sal bin√†ria' },
        { formula: 'CuBr2', names: ['bromur de coure(II)', 'bromur c√∫pric'], type: 'Sal bin√†ria' },
        { formula: 'AgCl', names: ['clorur de plata', 'clorur d\'argent'], type: 'Sal bin√†ria' },
        { formula: 'ZnS', names: ['sulfur de zinc'], type: 'Sal bin√†ria' },
        { formula: 'PbS', names: ['sulfur de plom(II)', 'sulfur plumb√≥s'], type: 'Sal bin√†ria' },
        { formula: 'PbS2', names: ['sulfur de plom(IV)', 'sulfur pl√∫mbic'], type: 'Sal bin√†ria' },
        { formula: 'AlCl3', names: ['clorur d\'alumini'], type: 'Sal bin√†ria' },
        { formula: 'K2S', names: ['sulfur de potassi'], type: 'Sal bin√†ria' },
        { formula: 'KCN', names: ['cianur de potassi'], type: 'Sal bin√†ria' },
        { formula: 'LiCl', names: ['clorur de liti'], type: 'Sal bin√†ria' },
        { formula: 'CoS', names: ['sulfur de cobalt(II)', 'sulfur cobalt√≥s'], type: 'Sal bin√†ria' },
        { formula: 'BeCl2', names: ['clorur de beril¬∑li'], type: 'Sal bin√†ria' },
        { formula: 'Ag2S', names: ['sulfur de plata', 'sulfur d\'argent'], type: 'Sal bin√†ria' },
        { formula: 'CoF2', names: ['fluorur de cobalt(II)', 'fluorur cobalt√≥s'], type: 'Sal bin√†ria' },
        { formula: 'CaBr2', names: ['bromur de calci'], type: 'Sal bin√†ria' },
        { formula: 'LiI', names: ['iodur de liti'], type: 'Sal bin√†ria' },
        { formula: 'ZnBr2', names: ['bromur de zinc'], type: 'Sal bin√†ria' },

        { formula: 'BrF3', names: ['trifluorur de brom'], type: 'Sal vol√†til' },
        { formula: 'BrF5', names: ['pentafluorur de brom'], type: 'Sal vol√†til' },
        { formula: 'ICl', names: ['monoclorur de iode'], type: 'Sal vol√†til' },
        { formula: 'ICl3', names: ['triclorur de iode'], type: 'Sal vol√†til' },
        { formula: 'PCl3', names: ['triclorur de f√≤sfor'], type: 'Sal vol√†til' },
        { formula: 'PCl5', names: ['pentaclorur de f√≤sfor'], type: 'Sal vol√†til' },
        { formula: 'CS2', names: ['disulfur de carboni'], type: 'Sal vol√†til' },
        { formula: 'SF4', names: ['tetrafluorur de sofre'], type: 'Sal vol√†til' },
        { formula: 'SF6', names: ['hexafluorur de sofre'], type: 'Sal vol√†til' },
        { formula: 'BCl3', names: ['triclorur de bor'], type: 'Sal vol√†til' },

        { formula: 'LiOH', names: ['hidr√≤xid de liti'], type: 'Hidr√≤xid' },
        { formula: 'NaOH', names: ['hidr√≤xid de sodi'], type: 'Hidr√≤xid' },
        { formula: 'KOH', names: ['hidr√≤xid de potassi'], type: 'Hidr√≤xid' },
        { formula: 'Mg(OH)2', names: ['hidr√≤xid de magnesi'], type: 'Hidr√≤xid' },
        { formula: 'Ca(OH)2', names: ['hidr√≤xid de calci'], type: 'Hidr√≤xid' },
        { formula: 'Ba(OH)2', names: ['hidr√≤xid de bari'], type: 'Hidr√≤xid' },
        { formula: 'Fe(OH)2', names: ['hidr√≤xid de ferro(II)', 'hidr√≤xid ferr√≥s'], type: 'Hidr√≤xid' },
        { formula: 'Fe(OH)3', names: ['hidr√≤xid de ferro(III)', 'hidr√≤xid f√®rric'], type: 'Hidr√≤xid' },
        { formula: 'Cu(OH)', names: ['hidr√≤xid de coure(I)', 'hidr√≤xid cupr√≥s'], type: 'Hidr√≤xid' },
        { formula: 'Cu(OH)2', names: ['hidr√≤xid de coure(II)', 'hidr√≤xid c√∫pric'], type: 'Hidr√≤xid' },
        { formula: 'Al(OH)3', names: ['hidr√≤xid d\'alumini'], type: 'Hidr√≤xid' },
        { formula: 'Zn(OH)2', names: ['hidr√≤xid de zinc'], type: 'Hidr√≤xid' },
        { formula: 'Pb(OH)2', names: ['hidr√≤xid de plom(II)', 'hidr√≤xid plumb√≥s'], type: 'Hidr√≤xid' },
        { formula: 'Pb(OH)4', names: ['hidr√≤xid de plom(IV)', 'hidr√≤xid pl√∫mbic'], type: 'Hidr√≤xid' },
        { formula: 'AgOH', names: ['hidr√≤xid de plata', 'hidr√≤xid d\'argent'], type: 'Hidr√≤xid' },
        { formula: 'Ni(OH)3', names: ['hidr√≤xid de n√≠quel(III)'], type: 'Hidr√≤xid' },
        { formula: 'Cr(OH)3', names: ['hidr√≤xid de crom(III)'], type: 'Hidr√≤xid' },
        { formula: 'Au(OH)3', names: ['hidr√≤xid d\'or(III)', 'hidr√≤xid √†uric'], type: 'Hidr√≤xid' },
        { formula: 'Hg(OH)2', names: ['hidr√≤xid de mercuri(II)'], type: 'Hidr√≤xid' },
        { formula: 'Sr(OH)2', names: ['hidr√≤xid d\'estronci'], type: 'Hidr√≤xid' },

        { formula: 'HClO', names: ['√†cid hipoclor√≥s'], type: 'Oxo√†cid' },
        { formula: 'HClO2', names: ['√†cid clor√≥s'], type: 'Oxo√†cid' },
        { formula: 'HClO3', names: ['√†cid cl√≤ric'], type: 'Oxo√†cid' },
        { formula: 'HClO4', names: ['√†cid percl√≤ric'], type: 'Oxo√†cid' },
        { formula: 'HBrO', names: ['√†cid hipobrom√≥s'], type: 'Oxo√†cid' },
        { formula: 'HBrO2', names: ['√†cid brom√≥s'], type: 'Oxo√†cid' },
        { formula: 'HBrO3', names: ['√†cid br√≤mic'], type: 'Oxo√†cid' },
        { formula: 'HBrO4', names: ['√†cid perbr√≤mic'], type: 'Oxo√†cid' },
        { formula: 'HIO', names: ['√†cid hipoiod√≥s'], type: 'Oxo√†cid' },
        { formula: 'HIO3', names: ['√†cid i√≤dic'], type: 'Oxo√†cid' },
        { formula: 'HIO4', names: ['√†cid peri√≤dic'], type: 'Oxo√†cid' },
        { formula: 'H2SO2', names: ['√†cid hiposulfur√≥s'], type: 'Oxo√†cid' },
        { formula: 'H2SO3', names: ['√†cid sulfur√≥s'], type: 'Oxo√†cid' },
        { formula: 'H2SO4', names: ['√†cid sulf√∫ric'], type: 'Oxo√†cid' },
        { formula: 'H2SeO3', names: ['√†cid seleni√≥s'], type: 'Oxo√†cid' },
        { formula: 'H2SeO4', names: ['√†cid sel√®nic'], type: 'Oxo√†cid' },
        { formula: 'HNO2', names: ['√†cid nitr√≥s'], type: 'Oxo√†cid' },
        { formula: 'HNO3', names: ['√†cid n√≠tric'], type: 'Oxo√†cid' },
        { formula: 'H3PO3', names: ['√†cid fosfor√≥s'], type: 'Oxo√†cid' },
        { formula: 'H3PO4', names: ['√†cid fosf√≤ric', '√†cid ortofosf√≤ric'], type: 'Oxo√†cid' },
        { formula: 'H2CO3', names: ['√†cid carb√≤nic'], type: 'Oxo√†cid' },
        { formula: 'H4SiO4', names: ['√†cid sil√≠cic', '√†cid ortosil√≠cic'], type: 'Oxo√†cid' },
        { formula: 'H3BO3', names: ['√†cid b√≤ric', '√†cid ortob√≤ric'], type: 'Oxo√†cid' },
        { formula: 'HMnO4', names: ['√†cid permang√†nic'], type: 'Oxo√†cid' },
        { formula: 'H2CrO4', names: ['√†cid cr√≤mic'], type: 'Oxo√†cid' },
        { formula: 'H2Cr2O7', names: ['√†cid dicr√≤mic'], type: 'Oxo√†cid' },
        { formula: 'H2MnO4', names: ['√†cid mang√†nic'], type: 'Oxo√†cid' },

        { formula: 'NaClO', names: ['hipoclorit de sodi'], type: 'Oxosal' },
        { formula: 'NaClO2', names: ['clorit de sodi'], type: 'Oxosal' },
        { formula: 'NaClO3', names: ['clorat de sodi'], type: 'Oxosal' },
        { formula: 'NaClO4', names: ['perclorat de sodi'], type: 'Oxosal' },
        { formula: 'KNO2', names: ['nitrit de potassi'], type: 'Oxosal' },
        { formula: 'KNO3', names: ['nitrat de potassi'], type: 'Oxosal' },
        { formula: 'Ca(NO3)2', names: ['nitrat de calci'], type: 'Oxosal' },
        { formula: 'AgNO3', names: ['nitrat de plata', 'nitrat d\'argent'], type: 'Oxosal' },
        { formula: 'Na2SO3', names: ['sulfit de sodi'], type: 'Oxosal' },
        { formula: 'Na2SO4', names: ['sulfat de sodi'], type: 'Oxosal' },
        { formula: 'K2SO4', names: ['sulfat de potassi'], type: 'Oxosal' },
        { formula: 'CaSO4', names: ['sulfat de calci'], type: 'Oxosal' },
        { formula: 'BaSO4', names: ['sulfat de bari'], type: 'Oxosal' },
        { formula: 'FeSO4', names: ['sulfat de ferro(II)', 'sulfat ferr√≥s'], type: 'Oxosal' },
        { formula: 'Fe2(SO4)3', names: ['sulfat de ferro(III)', 'sulfat f√®rric'], type: 'Oxosal' },
        { formula: 'CuSO4', names: ['sulfat de coure(II)', 'sulfat c√∫pric'], type: 'Oxosal' },
        { formula: 'CaCO3', names: ['carbonat de calci'], type: 'Oxosal' },
        { formula: 'Na2CO3', names: ['carbonat de sodi'], type: 'Oxosal' },
        { formula: 'K2CO3', names: ['carbonat de potassi'], type: 'Oxosal' },
        { formula: 'KClO3', names: ['clorat de potassi'], type: 'Oxosal' },
        { formula: 'KMnO4', names: ['permanganat de potassi'], type: 'Oxosal' },
        { formula: 'K2CrO4', names: ['cromat de potassi'], type: 'Oxosal' },
        { formula: 'K2Cr2O7', names: ['dicromat de potassi'], type: 'Oxosal' },
        { formula: 'Al2(SO4)3', names: ['sulfat d\'alumini'], type: 'Oxosal' },
        { formula: 'Pb(NO3)2', names: ['nitrat de plom(II)', 'nitrat plumb√≥s'], type: 'Oxosal' },
        { formula: 'Na3PO4', names: ['fosfat de sodi', 'ortofosfat de sodi'], type: 'Oxosal' },
        { formula: 'NaNO2', names: ['nitrit de sodi'], type: 'Oxosal' },
        { formula: 'Ca3(PO4)2', names: ['fosfat de calci'], type: 'Oxosal' },
        { formula: 'Na2CrO4', names: ['cromat de sodi'], type: 'Oxosal' },
        { formula: 'LiMnO4', names: ['permanganat de liti'], type: 'Oxosal' },
        { formula: 'CaCr2O7', names: ['dicromat de calci'], type: 'Oxosal' },
        { formula: 'NH4NO2', names: ['nitrit d\'amoni'], type: 'Oxosal' },

        { formula: 'Cu(HS)2', names: ['hidrogensulfur de coure(II)'], type: 'Sal √†cida' },
        { formula: 'AgHSe', names: ['hidrogenseleniur de plata', 'hidrogenseleniur d\'argent'], type: 'Sal √†cida' },
        { formula: 'KH2PO4', names: ['dihidrogenfosfat de potassi'], type: 'Sal √†cida' },
        { formula: 'KHSO3', names: ['hidrogensulfit de potassi'], type: 'Sal √†cida' },

        { formula: 'HPO3', names: ['√†cid metafosf√≤ric'], type: 'Oxo√†cid polihidratat' },
        { formula: 'H4P2O7', names: ['√†cid pirofosf√≤ric', '√†cid difosf√≤ric'], type: 'Oxo√†cid polihidratat' },
        { formula: 'HBO2', names: ['√†cid metab√≤ric'], type: 'Oxo√†cid polihidratat' },
        { formula: 'H2B4O7', names: ['√†cid tetrab√≤ric'], type: 'Oxo√†cid polihidratat' },
        { formula: 'H2S2O7', names: ['√†cid pirosulf√∫ric', '√†cid disulf√∫ric'], type: 'Oxo√†cid polihidratat' },
        { formula: 'H2SiO3', names: ['√†cid metasil√≠cic'], type: 'Oxo√†cid polihidratat' },

        { formula: 'CuSO4¬∑5H2O', names: ['sulfat de coure(II) pentahidratat', 'sulfat c√∫pric pentahidratat'], type: 'Sal hidratada' },
        { formula: 'CaSO4¬∑2H2O', names: ['sulfat de calci dihidratat'], type: 'Sal hidratada' },
        { formula: 'Na2CO3¬∑10H2O', names: ['carbonat de sodi decahidratat'], type: 'Sal hidratada' },
        { formula: 'MgCl2¬∑6H2O', names: ['clorur de magnesi hexahidratat'], type: 'Sal hidratada' },
        { formula: 'CoCl2¬∑6H2O', names: ['clorur de cobalt(II) hexahidratat', 'clorur cobalt√≥s hexahidratat'], type: 'Sal hidratada' },
        { formula: 'FeCl3¬∑6H2O', names: ['clorur de ferro(III) hexahidratat', 'clorur f√®rric hexahidratat'], type: 'Sal hidratada' },
        { formula: 'MgSO3¬∑7H2O', names: ['sulfit de magnesi heptahidratat'], type: 'Sal hidratada' },

        // --- ADDICIONS RECENTMENT INCORPORADES ---
        // Elements addicionals
        { formula: 'N2', names: ['nitrogen'], type: 'Subst√†ncia simple' },
        { formula: 'Cl2', names: ['clor'], type: 'Subst√†ncia simple' },
        { formula: 'S8', names: ['sofre', 'sulfur'], type: 'Subst√†ncia simple' },
        { formula: 'P4', names: ['f√≤sfor blanc', 'f√≤sfor'], type: 'Subst√†ncia simple' },
        { formula: 'He', names: ['heli'], type: 'Subst√†ncia simple' },
        { formula: 'Ne', names: ['ne√≥'], type: 'Subst√†ncia simple' },
        { formula: 'Ar', names: ['arg√≥'], type: 'Subst√†ncia simple' },
        { formula: 'Kr', names: ['cript√≥'], type: 'Subst√†ncia simple' },

        // √íxids met√†l¬∑lics nous
        { formula: 'CoO', names: ['√≤xid de cobalt(II)', '√≤xid cobalt√≥s'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Co3O4', names: ['tric√≤xid de dicobalt', '√≤xid de cobalt mixt'], type: '√íxid met√†l¬∑lic' },
        { formula: 'V2O5', names: ['pent√≤xid de vanadi', '√≤xid de vanadi(V)'], type: '√íxid met√†l¬∑lic' },
        { formula: 'TiO2', names: ['di√≤xid de titani'], type: '√íxid met√†l¬∑lic' },
        { formula: 'CeO2', names: ['di√≤xid de ceri'], type: '√íxid met√†l¬∑lic' },
        { formula: 'SnO2', names: ['di√≤xid d\'estany'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Sb2O3', names: ['tri√≤xid d\'estib'], type: '√íxid met√†l¬∑lic' },
        { formula: 'MnO', names: ['√≤xid de mangan√®s(II)'], type: '√íxid met√†l¬∑lic' },
        { formula: 'Fe3O4', names: ['magnetita', '√≤xid de ferro mixt'], type: '√íxid met√†l¬∑lic' },
        { formula: 'CrO3', names: ['tri√≤xid de crom', 'anh√≠drid cr√≤mic'], type: '√íxid met√†l¬∑lic' },

        // √íxids no met√†l¬∑lics nous
        { formula: 'NO', names: ['mon√≤xid de nitrogen', '√≤xid n√≠tric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'NO2', names: ['di√≤xid de nitrogen'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'N2O', names: ['√≤xid de dinitrogen', '√≤xid nitros'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'P4O10', names: ['deca√≤xid de tetraf√≤sfor', 'anh√≠drid fosf√≤ric'], type: '√íxid no met√†l¬∑lic' },
        { formula: 'SiO', names: ['mon√≤xid de silici'], type: '√íxid no met√†l¬∑lic' },

        // Hidrurs inorg√†nics nous
        { formula: 'LiAlH4', names: ['hidrur d\'alumini i liti'], type: 'Hidrur met√†l¬∑lic' },
        { formula: 'NaBH4', names: ['borohidrur de sodi'], type: 'Hidrur met√†l¬∑lic' },

        // Sals bin√†ries i reactius nous
        { formula: 'KCl', names: ['clorur de potassi'], type: 'Sal bin√†ria' },
        { formula: 'CaCl2', names: ['clorur de calci'], type: 'Sal bin√†ria' },
        { formula: 'MgCl2', names: ['clorur de magnesi'], type: 'Sal bin√†ria' },
        { formula: 'NH4Cl', names: ['clorur d\'amoni'], type: 'Sal bin√†ria' },
        { formula: 'NaF', names: ['fluorur de sodi'], type: 'Sal bin√†ria' },
        { formula: 'Na2S', names: ['sulfur de sodi'], type: 'Sal bin√†ria' },
        { formula: 'SnCl2', names: ['clorur d\'estany(II)', 'clorur estann√≥s'], type: 'Sal bin√†ria' },

        // Oxosals (i persals) noves
        { formula: 'NaNO3', names: ['nitrat de sodi'], type: 'Oxosal' },
        { formula: 'Na2S2O8', names: ['peroxodisulfat de sodi', 'persulfat de sodi'], type: 'Oxosal' },
        { formula: 'K2S2O8', names: ['peroxodisulfat de potassi'], type: 'Oxosal' },
        { formula: 'Na2S2O3', names: ['tiosulfat de sodi'], type: 'Oxosal' },
        { formula: 'K2S2O3', names: ['tiosulfat de potassi'], type: 'Oxosal' },
        { formula: 'Na2SiO3', names: ['silicat de sodi'], type: 'Oxosal' },

        // Sals √†cides noves
        { formula: 'NaHCO3', names: ['bicarbonat de sodi', 'hidrogencarbonat de sodi'], type: 'Sal √†cida' },

        // Complexos inorg√†nics
        { formula: 'K4[Fe(CN)6]', names: ['ferrocianur de potassi', 'hexacianoferrat(II) de potassi'], type: 'Complex inorg√†nic' },
        { formula: 'K3[Fe(CN)6]', names: ['ferricianur de potassi', 'hexacianoferrat(III) de potassi'], type: 'Complex inorg√†nic' },

        // Sals vol√†tils / reactius gasosos nous
        { formula: 'SOCl2', names: ['clorur de tionil'], type: 'Sal vol√†til' },
        { formula: 'COCl2', names: ['clorur de formil', 'fosgen'], type: 'Sal vol√†til' },
        { formula: 'NOCl', names: ['clorur de nitrosil'], type: 'Sal vol√†til' },

        // Sals hidratades noves
        { formula: 'FeSO4¬∑7H2O', names: ['sulfat de ferro(II) heptahidratat'], type: 'Sal hidratada' },
        { formula: 'Na2SiO3¬∑xH2O', names: ['silicat de sodi hidratat'], type: 'Sal hidratada' },
        { formula: 'Na2S2O3¬∑5H2O', names: ['tiosulfat de sodi pentahidratat'], type: 'Sal hidratada' }
        ];

        // Format de F√≥rmules Qu√≠miques
        const FormatFormula = ({ formula, large = false }) => {
            const parts = formula.split(/(\d+)/);
            return (
                <span className={`font-black tracking-widest ${large ? 'text-5xl md:text-7xl' : 'text-xl'} drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]`}>
                {parts.map((part, index) => {
                    if (!isNaN(part) && part !== '') {
                        const prevPart = index > 0 ? parts[index-1] : '';
                        if (prevPart.endsWith('¬∑') || prevPart.endsWith('¬∑ ')) {
                            return <span key={index}>{part}</span>;
                        }
                        return <sub key={index} className={`${large ? 'text-3xl md:text-4xl' : 'text-sm'} font-bold text-cyan-300 relative top-2`}>{part}</sub>;
                    }
                    return <span key={index}>{part}</span>;
                })}
                </span>
            );
        };

        const generateQuiz = () => {
            const targetIndex = Math.floor(Math.random() * compoundsDB.length);
            const target = compoundsDB[targetIndex];
            const questionType = Math.random() > 0.5 ? 'formula_to_name' : 'name_to_formula';
            const options = new Set();
            
            let correctOptionStr = questionType === 'formula_to_name' 
                ? target.names[Math.floor(Math.random() * target.names.length)] 
                : target.formula;
            options.add(correctOptionStr);

            while(options.size < 4) {
                const randomCompound = compoundsDB[Math.floor(Math.random() * compoundsDB.length)];
                if (randomCompound.formula !== target.formula) {
                    if (questionType === 'formula_to_name') {
                        options.add(randomCompound.names[Math.floor(Math.random() * randomCompound.names.length)]);
                    } else {
                        options.add(randomCompound.formula);
                    }
                }
            }

            return {
                compound: target,
                type: questionType,
                questionText: questionType === 'formula_to_name' ? target.formula : target.names[Math.floor(Math.random() * target.names.length)], 
                correctAnswer: correctOptionStr,
                options: Array.from(options).sort(() => Math.random() - 0.5)
            };
        };

        const formatTime = (seconds) => {
            const m = Math.floor(seconds / 60);
            const s = Math.floor(seconds % 60);
            return `${m}:${s < 10 ? '0' : ''}${s}`;
        };

        function GameApp() {
            const [gameState, setGameState] = useState('menu');
            const [currentQuiz, setCurrentQuiz] = useState(null);
            const [score, setScore] = useState(0);
            const [lives, setLives] = useState(3);
            const [combo, setCombo] = useState(1);
            const [bestScore, setBestScore] = useState(0);
            const [attempts, setAttempts] = useState(0); 
            
            // Estats del Cron√≤metre i Temps
            const [qStartTime, setQStartTime] = useState(0);
            const [questionTimes, setQuestionTimes] = useState([]);
            const [hudTime, setHudTime] = useState(0);

            const [tipQueue, setTipQueue] = useState([]);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [isAnimating, setIsAnimating] = useState(false);
            const [shakeEfx, setShakeEfx] = useState(false);
            const [glowEfx, setGlowEfx] = useState(false);
            
            // Modals
            const [showExplanation, setShowExplanation] = useState(false);
            const [showTip, setShowTip] = useState(false); 
            const [showSpeedStat, setShowSpeedStat] = useState(false);
            const [currentTip, setCurrentTip] = useState(null);

            // Rellotge HUD
            useEffect(() => {
                let interval;
                if (gameState === 'playing' && !showExplanation && !showTip && !showSpeedStat && !isAnimating) {
                    interval = setInterval(() => setHudTime(t => t + 1), 1000);
                }
                return () => clearInterval(interval);
            }, [gameState, showExplanation, showTip, showSpeedStat, isAnimating]);

            const startGame = () => {
                setScore(0);
                setLives(3);
                setCombo(1);
                setAttempts(0);
                setQuestionTimes([]);
                setHudTime(0);
                
                const shuffledTips = [...advancedTips].sort(() => Math.random() - 0.5);
                setTipQueue(shuffledTips);
                
                setCurrentQuiz(generateQuiz());
                setShowExplanation(false);
                setShowTip(false);
                setShowSpeedStat(false);
                setGameState('playing');
                setQStartTime(Date.now());
            };

            const proceedToNextQuestion = (currentAttemptCount) => {
                setSelectedAnswer(null);
                setIsAnimating(false);
                
                // L√≤gica de Checkpoints: Cada 10 de velocitat, o cada 5 de consell
                if (currentAttemptCount % 10 === 0 && currentAttemptCount > 0) {
                    setShowSpeedStat(true);
                } else if (currentAttemptCount % 5 === 0 && currentAttemptCount > 0 && tipQueue.length > 0) {
                    const nextTip = tipQueue[0];
                    setTipQueue(tipQueue.slice(1));
                    setCurrentTip(nextTip);
                    setShowTip(true);
                } else {
                    setCurrentQuiz(generateQuiz());
                    setQStartTime(Date.now());
                }
            };

            const handleAnswer = (answer) => {
                if (isAnimating || showExplanation || showTip || showSpeedStat) return;
                setIsAnimating(true);
                setSelectedAnswer(answer);

                // Registrar temps de resposta
                const timeTaken = (Date.now() - qStartTime) / 1000;
                setQuestionTimes(prev => [...prev, timeTaken]);

                const isCorrect = answer === currentQuiz.correctAnswer;
                const newAttempts = attempts + 1;
                setAttempts(newAttempts);

                if (isCorrect) {
                    setGlowEfx(true);
                    setScore(s => s + (10 * combo));
                    setCombo(c => Math.min(c + 1, 5));
                    
                    setTimeout(() => {
                        setGlowEfx(false);
                        proceedToNextQuestion(newAttempts);
                    }, 800);
                } else {
                    setShakeEfx(true);
                    setCombo(1); 
                    
                    setTimeout(() => {
                        setShakeEfx(false);
                        setShowExplanation(true);
                    }, 800);
                }
            };

            const handleContinueAfterFailure = () => {
                const newLives = lives - 1;
                setLives(newLives);
                setShowExplanation(false);

                if (newLives <= 0) {
                    if (score > bestScore) setBestScore(score);
                    setGameState('gameover');
                } else {
                    proceedToNextQuestion(attempts);
                }
            };

            const handleCloseModals = () => {
                setShowTip(false);
                setShowSpeedStat(false);
                setCurrentQuiz(generateQuiz());
                setQStartTime(Date.now()); // Reseteja el timer despr√©s de tancar la finestra
            };

            // C√†lcul de velocitat
            const avgTime = questionTimes.length ? (questionTimes.reduce((a,b)=>a+b, 0) / questionTimes.length).toFixed(1) : 0;
            const getSpeedMessage = (avg) => {
                if(avg < 3.0) return "Nivell Flash! Impressionant! ‚ö°";
                if(avg < 6.0) return "Molt bon ritme mental! üß†";
                if(avg < 10.0) return "Bona precisi√≥, segueix aix√≠! üëç";
                return "T'ho est√†s pensant b√©. La precisi√≥ √©s clau! üê¢";
            };

            if (gameState === 'menu') {
                return (
                <div className="min-h-screen bg-[#0B0F19] text-white flex flex-col items-center justify-center p-6 relative overflow-hidden font-sans">
                    <div className="absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-cyan-600/20 rounded-full blur-[120px] mix-blend-screen animate-pulse"></div>
                    <div className="absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-blue-600/20 rounded-full blur-[150px] mix-blend-screen"></div>

                    <div className="z-10 text-center max-w-md w-full backdrop-blur-xl bg-white/5 border border-white/10 p-10 rounded-3xl shadow-[0_0_50px_rgba(6,182,212,0.15)]">
                    <div className="flex justify-center mb-6">
                        <div className="relative">
                        <Sparkles className="absolute -top-4 -right-4 text-cyan-400 animate-bounce" size={32} />
                        <div className="w-24 h-24 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-2xl flex items-center justify-center shadow-[0_0_30px_rgba(6,182,212,0.4)]">
                            <Flame size={48} className="text-white" />
                        </div>
                        </div>
                    </div>
                    <h1 className="text-4xl md:text-5xl font-black mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-300 via-cyan-300 to-teal-300 tracking-tight">
                        Alquimista<br/>Qu√†ntic
                    </h1>
                    <p className="text-blue-200/70 mb-4 text-lg">Domina la qu√≠mica inorg√†nica.</p>
                    <div className="mb-10 text-sm bg-white/10 rounded-full py-1 px-4 text-cyan-200 inline-block border border-cyan-500/20">
                        +200 compostos i 15 fam√≠lies
                    </div>
                    <button onClick={startGame} className="w-full relative group overflow-hidden rounded-2xl p-[2px]">
                        <div className="absolute inset-0 bg-gradient-to-r from-blue-600 via-cyan-500 to-teal-400 opacity-70 group-hover:opacity-100 animate-pulse transition-opacity"></div>
                        <div className="relative bg-[#0B0F19] bg-opacity-90 px-8 py-5 rounded-2xl flex items-center justify-center gap-3 transition-all group-hover:bg-opacity-0">
                        <Play className="text-white fill-current" size={24} />
                        <span className="text-2xl font-bold tracking-wide">JUGAR ARA</span>
                        </div>
                    </button>
                    {bestScore > 0 && (
                        <div className="mt-8 flex items-center justify-center gap-2 text-cyan-300 font-semibold bg-white/5 py-3 rounded-full border border-cyan-500/20">
                        <Trophy size={20} /> Millor Puntuaci√≥: {bestScore}
                        </div>
                    )}
                    </div>
                </div>
                );
            }

            if (gameState === 'gameover') {
                return (
                <div className="min-h-screen bg-[#0B0F19] text-white flex flex-col items-center justify-center p-6 relative overflow-hidden font-sans">
                    <div className="absolute inset-0 bg-rose-900/20 z-0"></div>
                    <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80vw] h-[80vw] max-w-[600px] max-h-[600px] bg-rose-600/20 rounded-full blur-[100px]"></div>

                    <div className="z-10 text-center max-w-md w-full backdrop-blur-2xl bg-[#0f1423]/80 border border-rose-500/30 p-10 rounded-3xl shadow-[0_0_50px_rgba(225,29,72,0.2)]">
                    <AlertTriangle className="mx-auto text-rose-500 mb-6" size={64} />
                    
                    <h2 className="text-4xl font-black text-white mb-2 tracking-tight">LABORATORI<br/>DESTRU√èT</h2>
                    <p className="text-rose-200/70 mb-6 text-lg">Has quedat sense vides!</p>

                    <div className="bg-white/5 rounded-2xl p-6 mb-6 border border-white/10">
                        <p className="text-sm text-slate-400 uppercase tracking-widest font-bold mb-1">Puntuaci√≥ Final</p>
                        <p className="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-rose-400 to-orange-400">{score}</p>
                    </div>

                    <div className="grid grid-cols-2 gap-4 mb-8 text-left">
                        <div className="bg-white/5 p-4 rounded-xl border border-white/10">
                            <p className="text-xs text-slate-400 uppercase font-bold mb-1">Temps Total</p>
                            <p className="text-xl font-bold text-cyan-300 flex items-center gap-2"><ClockIcon size={18}/> {formatTime(hudTime)}</p>
                        </div>
                        <div className="bg-white/5 p-4 rounded-xl border border-white/10">
                            <p className="text-xs text-slate-400 uppercase font-bold mb-1">Temps/Mol√®cula</p>
                            <p className="text-xl font-bold text-fuchsia-300 flex items-center gap-2"><Activity size={18}/> {avgTime}s</p>
                        </div>
                    </div>

                    <button onClick={startGame} className="w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold text-xl py-5 rounded-2xl flex items-center justify-center gap-3 shadow-[0_10px_30px_rgba(14,165,233,0.4)] transition-transform active:scale-95">
                        <RotateCcw size={24} /> Tornar a Intentar
                    </button>
                    </div>
                </div>
                );
            }

            return (
                <div className={`min-h-screen bg-[#0B0F19] text-white flex flex-col font-sans overflow-hidden transition-colors duration-300 ${shakeEfx ? 'animate-shake' : ''} ${glowEfx ? 'bg-emerald-950/40' : ''}`}>
                
                {/* OVERLAY D'EXPLICACI√ì D'ERROR */}
                {showExplanation && (
                    <div className="absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md transition-all duration-300">
                    <div className="bg-[#13192B] border border-rose-500/50 p-6 md:p-8 rounded-3xl max-w-lg w-full shadow-[0_0_60px_rgba(225,29,72,0.3)] transform transition-all">
                        <div className="flex items-center gap-3 mb-6">
                            <div className="bg-rose-500/20 p-3 rounded-full">
                                <XCircle className="text-rose-500" size={32} />
                            </div>
                            <h2 className="text-3xl font-black text-white">Error de C√†lcul!</h2>
                        </div>
                        <div className="bg-white/5 rounded-2xl p-5 mb-6 border border-white/10">
                            <p className="text-sm text-slate-400 uppercase tracking-widest font-bold mb-2">La resposta correcta era:</p>
                            <div className="text-2xl md:text-3xl font-black text-emerald-400 capitalize">
                                {currentQuiz.type === 'name_to_formula' ? <FormatFormula formula={currentQuiz.correctAnswer} /> : currentQuiz.correctAnswer}
                            </div>
                        </div>
                        <div className="bg-blue-900/30 rounded-2xl p-5 mb-8 border border-blue-500/30">
                            <div className="flex items-center gap-2 mb-2">
                                <Info size={20} className="text-cyan-400" />
                                <h3 className="font-bold text-cyan-300 text-lg uppercase tracking-wide">Rep√†s: {currentQuiz.compound.type}</h3>
                            </div>
                            <p className="text-blue-100/80 leading-relaxed text-lg">{explanationsDB[currentQuiz.compound.type]}</p>
                            <p className="mt-3 text-sm text-cyan-300/60 font-medium flex items-center gap-2">S'aplica al compost: <FormatFormula formula={currentQuiz.compound.formula} /></p>
                        </div>
                        <button onClick={handleContinueAfterFailure} className="w-full bg-gradient-to-r from-rose-600 to-orange-500 hover:from-rose-500 hover:to-orange-400 text-white font-bold text-xl py-4 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-transform active:scale-95">
                            Ent√®s, continuar <ArrowRight size={24} />
                        </button>
                    </div>
                    </div>
                )}

                {/* OVERLAY DE CONSELL (Cada 5 intents) */}
                {showTip && currentTip && !showSpeedStat && (
                    <div className="absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md transition-all duration-300">
                    <div className="bg-[#0B1221] border border-cyan-500/50 p-6 md:p-8 rounded-3xl max-w-lg w-full shadow-[0_0_60px_rgba(6,182,212,0.3)] transform transition-all relative overflow-hidden">
                        <div className="absolute top-[-50px] right-[-50px] w-[150px] h-[150px] bg-cyan-600/20 rounded-full blur-[50px]"></div>
                        <div className="flex items-center gap-3 mb-6 relative z-10">
                            <div className="bg-cyan-500/20 p-3 rounded-full border border-cyan-500/30">
                                <Lightbulb className="text-cyan-400" size={32} />
                            </div>
                            <div>
                                <h2 className="text-2xl font-black text-white">Checkpoint Te√≤ric</h2>
                                <p className="text-cyan-300/70 text-sm font-bold uppercase tracking-widest">{attempts} compostos resolts</p>
                            </div>
                        </div>
                        <div className="bg-gradient-to-br from-blue-900/40 to-cyan-900/20 rounded-2xl p-6 mb-8 border border-cyan-500/30 relative z-10">
                            <h3 className="font-bold text-cyan-300 text-lg uppercase tracking-wide mb-3 border-b border-cyan-500/30 pb-2">üí° Consell: {currentTip.title}</h3>
                            <p className="text-blue-100 leading-relaxed text-xl font-medium">{currentTip.content}</p>
                        </div>
                        <button onClick={handleCloseModals} className="relative z-10 w-full bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-500 hover:to-cyan-400 text-white font-bold text-xl py-4 rounded-xl flex items-center justify-center gap-2 shadow-[0_10px_20px_rgba(6,182,212,0.3)] transition-transform active:scale-95">
                            Continuar Investigant <ArrowRight size={24} />
                        </button>
                    </div>
                    </div>
                )}

                {/* OVERLAY DE RENDIMENT/TEMPS (Cada 10 intents) */}
                {showSpeedStat && (
                    <div className="absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md transition-all duration-300">
                    <div className="bg-[#0B1221] border border-fuchsia-500/50 p-6 md:p-8 rounded-3xl max-w-lg w-full shadow-[0_0_60px_rgba(217,70,239,0.3)] transform transition-all relative overflow-hidden">
                        <div className="absolute top-[-50px] left-[-50px] w-[200px] h-[200px] bg-fuchsia-600/20 rounded-full blur-[60px]"></div>
                        <div className="flex items-center gap-3 mb-6 relative z-10">
                            <div className="bg-fuchsia-500/20 p-3 rounded-full border border-fuchsia-500/30">
                                <Activity className="text-fuchsia-400" size={32} />
                            </div>
                            <div>
                                <h2 className="text-2xl font-black text-white">Balan√ß de Rendiment</h2>
                                <p className="text-fuchsia-300/70 text-sm font-bold uppercase tracking-widest">{attempts} compostos superats!</p>
                            </div>
                        </div>
                        <div className="text-center bg-white/5 rounded-2xl p-8 mb-8 border border-white/10 relative z-10">
                            <p className="text-slate-400 font-bold uppercase tracking-widest mb-2">Temps mitj√† per mol√®cula</p>
                            <div className="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-purple-400 mb-4">
                                {avgTime}s
                            </div>
                            <p className="text-xl font-bold text-white">{getSpeedMessage(parseFloat(avgTime))}</p>
                        </div>
                        <button onClick={handleCloseModals} className="relative z-10 w-full bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white font-bold text-xl py-4 rounded-xl flex items-center justify-center gap-2 shadow-[0_10px_20px_rgba(217,70,239,0.3)] transition-transform active:scale-95">
                            A per la seg√ºent fase! <ArrowRight size={24} />
                        </button>
                    </div>
                    </div>
                )}

                {/* HUD Superior */}
                <div className="flex justify-between items-center p-6 md:p-8 z-10 bg-gradient-to-b from-[#0B0F19] to-transparent">
                    <div className="flex gap-2 w-1/3">
                    {[...Array(3)].map((_, i) => (
                        <div key={i} className={`transition-all duration-300 ${i < lives ? 'text-rose-500 drop-shadow-[0_0_10px_rgba(244,63,94,0.8)]' : 'text-slate-800'}`}>
                            <Heart size={32} className={i < lives ? "fill-current" : "fill-current"} />
                        </div>
                    ))}
                    </div>

                    <div className="flex w-1/3 justify-center">
                        <div className="flex items-center gap-2 text-cyan-300 bg-cyan-900/30 px-4 py-2 rounded-full border border-cyan-500/30">
                            <ClockIcon size={20} />
                            <span className="font-mono text-xl font-bold tracking-wider">{formatTime(hudTime)}</span>
                        </div>
                    </div>

                    <div className="flex flex-col items-end w-1/3">
                        <div className="text-3xl md:text-4xl font-black tracking-tighter text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]">
                            {score.toString().padStart(4, '0')}
                        </div>
                        {combo > 1 && (
                            <div className="flex items-center gap-1 text-cyan-400 font-bold text-lg animate-pulse">
                            <Zap size={16} className="fill-current" /> COMBO x{combo}
                            </div>
                        )}
                    </div>
                </div>

                {/* √Ärea del Quiz */}
                <div className={`flex-1 flex flex-col items-center justify-center p-6 z-10 transition-opacity duration-300 ${(showExplanation || showTip || showSpeedStat) ? 'opacity-30 blur-sm pointer-events-none' : 'opacity-100'}`}>
                    <div className="text-cyan-300/60 font-bold tracking-widest uppercase mb-4 text-sm md:text-base flex items-center gap-2">
                    {currentQuiz.compound.type}
                    </div>
                    <div className="h-40 md:h-56 flex items-center justify-center animate-[float_4s_ease-in-out_infinite] animate-float">
                    {currentQuiz.type === 'formula_to_name' ? (
                        <FormatFormula formula={currentQuiz.questionText} large={true} />
                    ) : (
                        <h2 className="text-4xl md:text-5xl lg:text-6xl font-black text-center text-transparent bg-clip-text bg-gradient-to-br from-white to-slate-400 drop-shadow-sm px-4">
                        <span className="capitalize">{currentQuiz.questionText}</span>
                        </h2>
                    )}
                    </div>
                </div>

                <div className={`p-4 md:p-8 z-10 w-full max-w-4xl mx-auto pb-12 transition-opacity duration-300 ${(showExplanation || showTip || showSpeedStat) ? 'opacity-30 blur-sm pointer-events-none' : 'opacity-100'}`}>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {currentQuiz.options.map((option, index) => {
                        let btnStyle = "bg-white/5 border-white/10 hover:bg-white/10 text-slate-200";
                        let formatAsFormula = currentQuiz.type === 'name_to_formula';

                        if (selectedAnswer !== null) {
                            if (option === currentQuiz.correctAnswer) {
                                btnStyle = "bg-emerald-500/20 border-emerald-400 text-emerald-300 shadow-[0_0_30px_rgba(52,211,153,0.3)] ring-2 ring-emerald-400 scale-[1.02]";
                            } else if (option === selectedAnswer && option !== currentQuiz.correctAnswer) {
                                btnStyle = "bg-rose-500/20 border-rose-500 text-rose-300 shadow-[0_0_20px_rgba(244,63,94,0.3)] opacity-50";
                            } else {
                                btnStyle = "bg-white/5 border-white/5 text-slate-500 opacity-40";
                            }
                        }

                        return (
                        <button
                            key={index}
                            onClick={() => handleAnswer(option)}
                            disabled={isAnimating || showExplanation || showTip || showSpeedStat}
                            className={`relative w-full p-6 md:p-8 rounded-2xl border-2 backdrop-blur-md transition-all duration-300 text-xl md:text-2xl font-bold flex items-center justify-center text-center overflow-hidden active:scale-95 ${btnStyle}`}
                        >
                            {selectedAnswer === null && (
                            <div className="absolute inset-0 bg-gradient-to-r from-blue-500/0 via-white/5 to-cyan-500/0 opacity-0 hover:opacity-100 transition-opacity duration-500 transform -translate-x-full hover:translate-x-full"></div>
                            )}
                            {formatAsFormula ? <FormatFormula formula={option} /> : <span className="capitalize">{option}</span>}
                        </button>
                        );
                    })}
                    </div>
                </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GameApp />);
    </script>
</body>
</html>
